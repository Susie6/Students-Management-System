# Students-Management-System
#### 学生成绩管理系统 C++大作业

##### 程序要求：

要求设计一个学生成绩管理系统，需要有增、删、查、改以及排名功能，并且能实现新建文件以及文件存储的功能，需要将学生信息存储到文件中，实现文件与内存之间的数据传输。

##### 涉及理论知识：

1、类的使用以及类的继承
2、多文件结构
3、文件处理，实现内存与文件之间的数据传输
4、函数重载的应用
5、函数模板的应用
6、向量数组vector类的使用
7、sort函数的使用（排序）
8、streamstring类的使用

##### 算法思想：

​		建立三层类体系结构，实现对学生记录的存储与操作。
该程序有两个头文件，BasicInfo.h使用了三层类，基类Info包含两个基本信息的数据成员name和ID（学号），第二层类Student包含排名rank、成绩sub_cpp, sub_java, sub_python和总分sum五个数据成员，以及一系列对数据成员进行操作的函数，第三层类Admin包含开始界面函数，用于在建立对象时启动开始页面进行各种管理操作。
​		Admin.h包含各类操作函数的声明，这些函数的功能是文件的新建与存储，学生信息的增、删、查、改、排名以及菜单页面的显示。
​		程序运行时首先，建立Admin类的管理员对象，启用start函数开启主菜单页面，根据主菜单显示的序号选择相应功能进行对学生记录的操作，主要功能有：
​		1.建立文件（可选择用默认名字或者自定义名字建立）
​		2.读取文件（可选择用默认名字或者自定义名字读取）
​		3.新建信息（当stu数组不为空的时候，可将数组里面的记录存储到文件）
​		4.文件存储（将stu数组里面的记录存储到当前以写方式打开的文件）
​		5.显示记录（将stu数组里面的记录显示出来）
​		6.增加记录（可选择增加单条记录或者读入文件里面的记录追加）：单条记录仅增加在stu向量数组中，追加记录是通过读入已有记录的文件中的记录再添加到到stu向量数组中
​		7.删除记录（标志将被删除的记录, 可以取消标志, 经确认后删除标志的记录）：通过findInfo函数查找到要删除的记录并用del向量数组进行标记，最后删除所有带标记的学生记录
​		8.修改记录（查找需要修改的记录并修改）：通过findInfo函数查找到要修改的记录，通过Student类的edit成员函数对数据成员进行修改
​		9.查询记录（可选择按姓名、学号、名次查询记录）：通过get函数查询与输入的信息相匹配的记录
​		10.排序（可选择按姓名、学号、名次进行升序和逆序排序）：通过sort函数和vector类的begin、end、rbegin、rend成员的使用实现升序和逆序进行排名

![img](file:///C:\Users\92161\AppData\Local\Temp\ksohtml14156\wps3.jpg)

##### 遇到的问题以及解决办法：

​		1、在查询的时候，写了get函数，因为要返回的数据name，ID和rank的类型不一致，一开始使用了函数模板，出了bug。后来发现是因为在函数模板中int类型和char类型无法进行隐式转换而导致函数模板无法实例化，然后就修改成了两个get函数，重载。
​		2、在删除的时候，用del数组记录了标记的记录的下标，使用了for的遍历循环和vector类的erase成员来进行删除，但一开始没注意到，如果是同时删除多条记录，stu数组的长度就会发生变化，在遍历删除第一条的时候，会导致后面的原来标记的记录的下标都发生变化，del数组里面记录的下标已经是不准确的了，这个时候就会导致删除了错误的记录甚至是越界。解决办法就是找到变动之后的下标和原下标的数学关系，从t.erase(t.begin() + del[i] )改为t.erase(t.begin() + del[i] - i)。
​		3、在排序的时候，因为冒泡排序有点繁琐，最后选择了sort函数来进行排序。因为sort函数的最后一个参数是一个排序函数，这个函数决定了升序还是降序，所以一开始的时候我把姓名、学号、名次的升序和降序函数都写了一遍，就有6个函数了，但后来优化发现vector类还有rbegin()和rend()成员，rbegin()和rend()返回的是逆序迭代器，而逆序迭代器是一种反向遍历容器的迭代器，自增和自减的含义是倒过来的，所以升序排列需要向sort函数传递一对迭代器begin()和end()还有一个排序函数，降序排列则只需要传递一对逆序迭代器rbegin()和rend()，然后用和升序一样的排序函数就可以了。然后我就修改了排序的函数，把原本比较大小的6个函数减少成了3个，减少了代码量。

